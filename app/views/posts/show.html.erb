<% provide(:title, @post.title) %>

<% content_for :sidebar do %>
  <%= render 'posts/sides/show_sidebar' %>
<% end %>

<%= render partial: @post %>

<div class="row-fluid">
  <div class="span10 well offset1">
    <h2>Comments</h2>

    <div id="comments">
      <%= render :partial => @post.comments %>
    </div>

    <%= form_for [@post, Comment.new], remote: signed_in? do |f| %>
      <% if signed_in? %>
        <%= f.label :body, "New comment" %><br/>
        <%= f.text_area :body %>
      <% end %>
      <%= f.submit (signed_in? ? "Add comment" : "Sign in to add comment") %>
    <% end %>
  </div>
</div>